#:kivy 2.0.0

# Screen:
#     HomeScreen:
#         id:home
#         name:'home'
# <HomeScreen>:
#     FloatLayout:
#         # Text fields
#         MDTextFieldRect:
#             hint_text: 'City'
#             id : city_name
#             pos_hint:{'top':.9,'left':1}
#             size_hint: .5,.06
#         MDTextFieldRect:
#             hint_text: 'Country name or Country code'
#             id : country_name
#             pos_hint:{'top':.9,'right':1}
#             size_hint: .5,.06

#         MDRaisedButton:
#             text: "Search Weather"
#             pos_hint: {'center_x': .5, 'top': .7}
#             size_hint: .3, .08
#             on_release: root.search()

#         MDLabel:
#             text: f"Temperature: {root.temperature}"
#             pos_hint: {'x': 0.1, 'y': 0.5}
#             size_hint: .8, .05
#             halign: "left"
#         MDLabel:
#             text: f"Description: {root.description}"
#             pos_hint: {'x': 0.1, 'y': 0.40}
#             size_hint: .8, .05
#             halign: "left"
#         MDLabel:
#             text: f"Humidity: {root.humidity}"
#             pos_hint: {'x': 0.1, 'y': 0.45}
#             size_hint: .8, .05
#             halign: "left"
#         MDLabel:
#             text: f"Pressure: {root.pressure}"
#             pos_hint: {'x': 0.1, 'y': 0.5}
#             size_hint: .8, .05
#             halign: "right"
#         MDLabel:
#             text: f"Visibility: {root.visibility}"
#             pos_hint: {'x': 0.1, 'y': 0.45}
#             size_hint: .8, .05
#             halign: "right"

Screen:
    HomeScreen:
        id:home
        name:'home'

<HomeScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 30
        size_hint: None, None
        size: 500, 200
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        Label:
            text: 'Weather App'
            font_size: 32
            size_hint_y: None
            height: self.texture_size[1]
            halign: 'center'
            valign: 'middle'
            padding: 10

        GridLayout:
            cols: 2
            size_hint_y: None
            adaptive_size: True
            spacing: 20

            # Text fields
            MDTextFieldRect:
                hint_text: 'City'
                id : city_name
                size_hint: 1, None
                height: 70
            MDTextFieldRect:
                hint_text: 'Country name'
                id : country_name
                size_hint: 1, None
                height: 70

        # Search button
        MDRaisedButton:
            text: "Search Weather"
            pos_hint: {'center_x': .5}
            size_hint: None, None
            size: 200, 50
            font_size: 20
            md_bg_color: 0, 0.8, 0, 1
            on_release: root.search()
            padding: 30
           
        # # Weather details
        # GridLayout:
        #     cols: 2
        #     size_hint_y: None
        #     adaptive_size: True
        #     spacing: 30

        #     # Temperature
        #     BoxLayout:
        #         size_hint_y: None
        #         adaptive_size: True
        #         orientation: 'vertical'
        #         MDLabel:
        #             text: f"Temperature: {root.temperature}"
        #             halign: "left"
        #             valign: "middle"
        #             size_hint_y: None
        #             height: self.texture_size[1]

        #     # Humidity
        #     BoxLayout:
        #         size_hint_y: None
        #         adaptive_size: True
        #         orientation: 'vertical'
        #         MDLabel:
        #             text: f"Humidity: {root.humidity}"
        #             halign: "right"
        #             valign: "middle"
        #             size_hint_y: None
        #             height: self.texture_size[1]

        #     # Pressure
        #     BoxLayout:
        #         size_hint_y: None
        #         adaptive_size: True
        #         orientation: 'vertical'
        #         MDLabel:
        #             text: f"Pressure: {root.pressure}"
        #             halign: "left"
        #             valign: "middle"
        #             size_hint_y: None
        #             #height: self.texture_size[1]
                    
        #     # Visibility
        #     BoxLayout:
        #         size_hint_y: None
        #         adaptive_size: True
        #         orientation: 'vertical'
        #         MDLabel:
        #             text: f"Visibility: {root.visibility}"
        #             halign: "right"
        #             valign: "middle"
        #             size_hint_y: None
        #             #height: self.texture_size[1]
                
        #     # Description
        #     BoxLayout:
        #         size_hint_y: None
        #         adaptive_size: True
        #         orientation: 'vertical'
        #         cols: 1
        #         padding: [0, 10, 0, 0]

        #         GridLayout:
        #             cols: 1

        #             MDLabel:
        #                 text: f"Description: {root.description}"
        #                 halign: "left"
        #                 valign: "middle"
        #                 size_hint_y: None
        #                 height: self.texture_size[1]
        #                 text_size: self.width, None
        #                 pos_hint: {'center_x': .5}
            
        # Weather details
        GridLayout:
            cols: 2
            row_default_height: 50
            row_force_default: True
            spacing: 20
            padding: [30, 20]

            # Temperature
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: 50
                MDLabel:
                    text: f"Temperature: {root.temperature}"
                    halign: "left"
                    valign: "middle"
                    size_hint_y: None
                    height: self.texture_size[1]

            # Humidity
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: 50
                MDLabel:
                    text: f"Humidity: {root.humidity}"
                    halign: "right"
                    valign: "middle"
                    size_hint_y: None
                    height: self.texture_size[1]

            # Pressure
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: 50
                MDLabel:
                    text: f"Pressure: {root.pressure}"
                    halign: "left"
                    valign: "middle"
                    size_hint_y: None
                    height: self.texture_size[1]

            # Visibility
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: 50
                MDLabel:
                    text: f"Visibility: {root.visibility}"
                    halign: "right"
                    valign: "middle"
                    size_hint_y: None
                    height: self.texture_size[1]

            # Description spanning both columns
            BoxLayout:
                orientation: 'vertical'
                size_hint: 2, None
                height: self.minimum_height
                MDLabel:
                    text: f"Description: {root.description}"
                    halign: "left"
                    valign: "middle"
                    size_hint_y: None
                    height: self.texture_size[1]